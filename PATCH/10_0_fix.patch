Index: src/main/java/ru/javawebinar/topjava/to/UserTo.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/ru/javawebinar/topjava/to/UserTo.java	(revision 7cbe39a395c36ec972b2d4e4b73a8d21006e4e33)
+++ src/main/java/ru/javawebinar/topjava/to/UserTo.java	(revision )
@@ -31,7 +31,7 @@
     public UserTo() {
     }
 
-    public UserTo(int id, String name, String email, String password, int caloriesPerDay) {
+    public UserTo(Integer id, String name, String email, String password, int caloriesPerDay) {
         this.id = id;
         this.name = name;
         this.email = email;
Index: config/curl.md
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- config/curl.md	(revision 7cbe39a395c36ec972b2d4e4b73a8d21006e4e33)
+++ config/curl.md	(revision )
@@ -1,23 +1,25 @@
 ### Test UserMealRestController (application deployed with context `topjava`).
 > For windows use `Git Bash`
 
-#### get All
-`curl -s http://localhost:8080/topjava/rest/profile/meals`
+## Meals
 
+#### get all
+`curl -s http://localhost:8080/topjava/rest/profile/meals -H 'Authorization:Basic dXNlckB5YW5kZXgucnU6cGFzc3dvcmQ='`
+
 #### get 100003
-`curl -s http://localhost:8080/topjava/rest/profile/meals/100003`
+`curl -s http://localhost:8080/topjava/rest/profile/meals/100003 -H 'Authorization:Basic dXNlckB5YW5kZXgucnU6cGFzc3dvcmQ='`
 
 #### get between
-`curl -s "http://localhost:8080/topjava/rest/profile/meals/between?startDateTime=2015-05-30T08:00:00&endDateTime=2015-05-30T16:00:00"`
+`curl -s "http://localhost:8080/topjava/rest/profile/meals/between?startDateTime=2015-05-30T08:00:00&endDateTime=2015-05-30T16:00:00" -H 'Authorization:Basic dXNlckB5YW5kZXgucnU6cGFzc3dvcmQ='`
 
 #### get not found
-`curl -s -v http://localhost:8080/rest/meals/100008`
+`curl -s -v http://localhost:8080/rest/meals/100008 -H 'Authorization:Basic dXNlckB5YW5kZXgucnU6cGFzc3dvcmQ='`
 
 #### delete
-`curl -s -X DELETE http://localhost:8080/rest/meals/100002`
+`curl -s -X DELETE http://localhost:8080/rest/meals/100002 -H 'Authorization:Basic dXNlckB5YW5kZXgucnU6cGFzc3dvcmQ='`
 
 #### create
-`curl -s -v -X POST -d '{"dateTime":"2015-06-01T12:00","description":"Created lunch","calories":300}' -H 'Content-Type:application/json;charset=UTF-8' http://localhost:8080/topjava/rest/profile/meals`
+`curl -s -v -X POST -d '{"dateTime":"2015-06-01T12:00","description":"Created lunch","calories":300}' -H 'Content-Type:application/json;charset=UTF-8' http://localhost:8080/topjava/rest/profile/meals -H 'Authorization:Basic dXNlckB5YW5kZXgucnU6cGFzc3dvcmQ='`
 
 #### update
-`curl -s -v -X PUT -d '{"dateTime":"2015-05-30T07:00", "description":"Updated breakfast", "calories":200}' -H 'Content-Type: application/json' http://localhost:8080/topjava/rest/profile/meals/100003`
\ No newline at end of file
+`curl -s -v -X PUT -d '{"dateTime":"2015-05-30T07:00", "description":"Updated breakfast"}' -H 'Content-Type: application/json' http://localhost:8080/topjava/rest/profile/meals/100003 -H 'Authorization:Basic dXNlckB5YW5kZXgucnU6cGFzc3dvcmQ='`
\ No newline at end of file
Index: src/main/java/ru/javawebinar/topjava/service/UserServiceImpl.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
--- src/main/java/ru/javawebinar/topjava/service/UserServiceImpl.java	(revision 7cbe39a395c36ec972b2d4e4b73a8d21006e4e33)
+++ src/main/java/ru/javawebinar/topjava/service/UserServiceImpl.java	(revision )
@@ -88,7 +88,7 @@
 
     @Override
     public AuthorizedUser loadUserByUsername(String email) throws UsernameNotFoundException {
-        User u = repository.getByEmail(email);
+        User u = repository.getByEmail(email.toLowerCase());
         if (u == null) {
             throw new UsernameNotFoundException("User " + email + " is not found");
         }
